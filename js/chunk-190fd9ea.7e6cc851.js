(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-190fd9ea"],{"09ef":function(t,e,n){},"0cfc":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"toplist"}},[n("tab-bar"),n("clay-out",{scopedSlots:t._u([{key:"left",fn:function(){return[n("top-list-title",{attrs:{text:"云音乐特色榜"}}),null!==t.FeatureList?n("list",{attrs:{topList:t.FeatureList}}):t._e(),n("top-list-title",{attrs:{text:"全球媒体榜"}}),null!==t.GlobalList?n("list",{attrs:{topList:t.GlobalList}}):t._e()]},proxy:!0},{key:"right",fn:function(){return[n("list-cover",{attrs:{playlist:t.playlist,total:t.total}}),n("song-list",{attrs:{songList:t.tracks,playCount:t.playlist}}),n("div",{staticClass:"mb"}),n("com-ment",{attrs:{comments:t.comments,hotComments:t.hotComments,total:t.total},on:{CurrentChange:t.CurrentChange}})]},proxy:!0}])})],1)},a=[],i=n("1da1"),o=(n("96cf"),n("fb6a"),n("dcc6")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap3",attrs:{id:"clay-out"}},[n("div",{staticClass:"left"},[t._t("left")],2),n("div",{staticClass:"right"},[t._t("right")],2)])},c=[],l={},u=l,m=(n("e2a8"),n("2877")),d=Object(m["a"])(u,r,c,!1,null,"30300b80",null),f=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"top-list-title"}},[n("h2",[t._v(t._s(t.text))])])},v=[],h={name:"TopListTitle",props:["text"]},g=h,_=(n("9492"),Object(m["a"])(g,p,v,!1,null,"399288d8",null)),C=_.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!==t.topList?n("div",{attrs:{id:"list"}},t._l(t.topList,(function(e){return n("div",{key:e.id,staticClass:"box",class:{active:e.id==t.activeClass},on:{click:function(n){return t.itemClick(e.id)}}},[n("div",{staticClass:"box-img"},[n("img",{attrs:{src:e.coverImgUrl,alt:""}})]),n("div",{staticClass:"info"},[n("h5",[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.updateFrequency))])])])})),0):t._e()},y=[],x={name:"List",props:{topList:{type:Array,default:function(){return null}}},data:function(){return{}},methods:{itemClick:function(t){this.$router.push({path:"/toplist",query:{id:t}})}},computed:{activeClass:function(){var t=this.$route.query.id;return t||19723756}}},k=x,L=(n("8d90"),Object(m["a"])(k,b,y,!1,null,"8b6b3882",null)),$=L.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!==t.playlist?n("div",{attrs:{id:"list-cover"}},[n("div",{staticClass:"cover-img-box"},[n("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}}),n("span")]),n("div",{staticClass:"cover-info"},[n("h2",[t._v(t._s(t.playlist.name))]),n("p",[t._v("最近更新："+t._s(t._f("forMatdate")(t.playlist.updateTime)))]),n("h5",[t._v(t._s(t.playlist.description))]),n("div",{staticClass:"play-comment"},[n("a",{staticClass:"play",attrs:{href:"javascript:;"},on:{click:function(e){return t.handleToBoFang(t.playlist.id)}}},[t._v("播放")]),null!==t.total?n("a",{staticClass:"comment",attrs:{href:"javascript:;"},on:{click:t.ToComment}},[t._v("评论("+t._s(t.total.total)+")")]):t._e()])])]):t._e()},w=[],O=n("e09c"),S={name:"ListCover",props:{playlist:{type:Object,default:function(){return null}},total:{type:Object,default:function(){return null}}},filters:{forMatdate:function(t){var e=new Date(t),n=e.getMonth()+1,s=e.getDate();return s=s<10?"0"+s:s,n+"月"+s+"日"}},mixins:[O["d"]],methods:{ToComment:function(){this.$bus.$emit("ToComment")}}},T=S,D=(n("2575"),Object(m["a"])(T,j,w,!1,null,"6083c90c",null)),I=D.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"song-list"}},[n("h3",[t._v(" 歌曲列表 "),n("span",[t._v(t._s(t.songList?t.songList.length:0)+"首歌")]),null!==t.playCount?n("em",[t._v("播放： "),n("span",[t._v(t._s(t.playCount.playCount))]),t._v("次")]):t._e()]),n("ul",[t._m(0),t._l(t.songList,(function(e,s){return n("li",{key:e.id,staticClass:"top-song-list top"},[n("div",{staticClass:"number"},[t._v(t._s(s+1))]),n("div",{staticClass:"song-play-cover"},[s<=2?n("img",{attrs:{src:e.al.picUrl,alt:"",title:e.name},on:{click:function(n){return t.toSongsDetail(e.id)}}}):t._e(),n("i",{staticClass:"iconfont icon-bofangqi-bofangshu",class:{active:e.id==t.activeSong},on:{click:function(n){return t.bofang(e.id)}}}),n("span",{on:{click:function(n){return t.toSongsDetail(e.id)}}},[t._v(t._s(e.name))]),0!==e.mv?n("em",{staticClass:"icon-mv",on:{click:function(n){return t.toMv(e.mv)}}}):t._e()]),n("div",{staticClass:"song-time"},[n("span",{staticClass:"ti"},[t._v(t._s(t._f("formatTimer")(e.dt/1e3)))]),n("div",{staticClass:"add-sc"},[n("i",{staticClass:"iconfont icon-tianjia add",attrs:{title:"添加到播放列表"},on:{click:function(n){return t.addList(e.id)}}}),n("i",{staticClass:"iconfont icon-shoucang sc",attrs:{title:"收藏"}})])]),n("div",{staticClass:"song-singer"},t._l(e.ar,(function(s,a){return n("a",{key:s.id,attrs:{title:s.name},on:{click:function(e){return t.toArtistDetail(s.id)}}},[t._v(" "+t._s(s.name)+" "+t._s(a===e.ar.length-1?"":"/")+" ")])})),0)])}))],2)])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"info"},[n("div",{staticClass:"kong"}),n("div",{staticClass:"title"},[t._v("歌曲标题")]),n("div",{staticClass:"time"},[t._v("时长")]),n("div",{staticClass:"singer"},[t._v("歌手")])])}],M={name:"SongList",mixins:[O["e"],O["g"],O["a"]],props:{songList:{type:Array,default:function(){return[]}},playCount:{type:Object,default:function(){return null}}},methods:{toArtistDetail:function(t){this.$router.push({path:"/singer",query:{id:t}})},toSongsDetail:function(t){this.$router.push({path:"/song",query:{id:t}})},toMv:function(t){this.$router.push({path:"/mv",query:{mvid:t}})}},computed:{activeSong:function(){return null===this.song?0:this.song[this.$store.state.index].id}}},F=M,A=(n("c663"),Object(m["a"])(F,q,E,!1,null,"5d46d687",null)),U=A.exports,B=n("5662"),z=n("4ec3"),G={name:"TopList",components:{TabBar:o["a"],ClayOut:f,TopListTitle:C,List:$,ListCover:I,SongList:U,ComMent:B["a"]},data:function(){return{FeatureList:null,GlobalList:null,tracks:null,playlist:null,hotComments:null,comments:null,total:null}},created:function(){var t=this.$route.query.id;t?this.getData(t):this.getData(19723756)},methods:{getData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a,i,o,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(z["J"])();case 2:return s=n.sent,a=s.data,e.FeatureList=a.list.slice(0,4),e.GlobalList=a.list.slice(4),n.next=8,Object(z["N"])(t);case 8:return i=n.sent,o=i.data,e.playlist=o.playlist,e.tracks=o.playlist.tracks,n.next=14,Object(z["p"])(t);case 14:r=n.sent,c=r.data,e.total=c,e.comments=c.comments,e.hotComments=c.hotComments;case 19:case"end":return n.stop()}}),n)})))()},CurrentChange:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a,i,o,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==t){n.next=9;break}return n.next=3,Object(z["p"])(e.$route.query.id);case 3:s=n.sent,a=s.data,e.hotComments=a.hotComments,e.comments=a.comments,n.next=24;break;case 9:if(!(e.total.total>=5e3)){n.next=18;break}return n.next=12,Object(z["p"])(e.$route.query.id,20*(t-1),e.comments[e.comments.length-1].time);case 12:i=n.sent,o=i.data,e.hotComments=[],e.comments=o.comments,n.next=24;break;case 18:return n.next=20,Object(z["p"])(e.$route.query.id,20*(t-1));case 20:r=n.sent,c=r.data,e.hotComments=[],e.comments=c.comments;case 24:case"end":return n.stop()}}),n)})))()}}},H=G,J=(n("2129"),Object(m["a"])(H,s,a,!1,null,"1b5e53e1",null));e["default"]=J.exports},2129:function(t,e,n){"use strict";n("856a")},2455:function(t,e,n){"use strict";n("7e2d")},2575:function(t,e,n){"use strict";n("2679")},2679:function(t,e,n){},5279:function(t,e,n){},5662:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"ment",attrs:{id:"comment"}},[n("h3",[t._v(" 评论 "),null!==t.total?n("span",[t._v("共"+t._s(t.total.total)+"条评论")]):t._e()]),n("div",{staticClass:"my-comment"},[n("div",{staticClass:"my-img"},[t.flag?n("img",{attrs:{src:t.userImg,alt:""}}):t._e()]),n("div",{staticClass:"ping"},[n("div",{staticClass:"ipt",on:{click:t.ShiFouDengLu}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"textarea",staticStyle:{resize:"none"},attrs:{required:"",placeholder:"评论",maxlength:"140"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}})]),n("a",{staticClass:"pinglun-btn",attrs:{href:"javascript:;"},on:{click:t.faSongMent}},[t._v("评论")])])]),t.hotComments&&0!==t.hotComments.length?n("div",[n("tags",{attrs:{text:"精彩评论"}}),n("user-comment",{attrs:{comments:t.hotComments}})],1):t._e(),t.comments&&0!==t.comments.length?n("div",[t.total?n("tags",{attrs:{text:"最新评论("+t.total.total+")"}}):t._e(),n("user-comment",{attrs:{comments:t.comments}})],1):t._e(),t.total&&0!==t.total.total?n("div",{staticClass:"fenye"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total.total,"page-size":20},on:{"current-change":t.handleCurrentChange}})],1):t._e()])},a=[],i=n("7b55"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.comments,(function(e){return n("div",{key:e.commentId,attrs:{id:"user-comment"}},[n("div",{staticClass:"user-img",on:{click:function(n){return t.toUserHome(e.user.userId)}}},[n("img",{attrs:{src:e.user.avatarUrl,alt:""}})]),n("div",{staticClass:"user-info"},[n("p",[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return t.toUserHome(e.user.userId)}}},[t._v(t._s(e.user.nickname)+":")]),n("span",[t._v(t._s(e.content))])]),n("div",{staticClass:"dz"},[n("p",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(e.time)))]),n("p",{staticClass:"zan"},[n("i",{staticClass:"iconfont icon-dianzan"}),0!==e.likedCount?n("span",[t._v("("+t._s(e.likedCount)+")")]):t._e()])])])])})),0)},r=[],c=(n("99af"),{name:"UserComment",props:["comments"],filters:{formatDate:function(t){var e=new Date(t),n=e.getFullYear(),s=e.getMonth()+1,a=e.getDate(),i=e.getHours();i=i<10?"0"+i:i;var o=e.getMinutes();return o=o<10?"0"+o:o,"".concat(n,"年").concat(s,"月").concat(a,"日 ").concat(i,":").concat(o)}},methods:{toUserHome:function(t){this.$router.push({path:"/user/home",query:{id:t}})}}}),l=c,u=(n("5ef0"),n("2877")),m=Object(u["a"])(l,o,r,!1,null,"b06ce5b2",null),d=m.exports,f=n("4ec3"),p=(n("4362"),{name:"ComMent",components:{Tags:i["a"],UserComment:d},props:["hotComments","comments","total","commentType"],data:function(){return{flag:!0,msg:"",isLogin:!1,comment:null}},created:function(){var t=localStorage.getItem("userInfo");this.isLogin=!!t},mounted:function(){var t=this,e=this;this.comment=document.getElementById("comment"),this.$bus.$on("ToComment",(function(){t.comment.scrollIntoView({behavior:"smooth"})})),this.$bus.$on("ShiFowDengLu",(function(t){e.isLogin=t}))},methods:{ShiFouDengLu:function(){this.isLogin||this.$bus.$emit("showLoginBox")},faSongMent:function(){var t=this;Object(f["O"])({t:1,type:this.commentType,id:this.$route.query.id,content:this.msg}).then((function(e){t.msg="",console.log(e)}))},handleCurrentChange:function(t){var e=this;this.$emit("CurrentChange",t),this.$nextTick((function(){e.comment.scrollIntoView({behavior:"smooth"})}))}},computed:{userImg:function(){if(this.isLogin){var t=JSON.parse(localStorage.getItem("headimg"));return t}return"https://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50"}}}),v=p,h=(n("893a"),Object(u["a"])(v,s,a,!1,null,"44ab9fe2",null));e["a"]=h.exports},"5aff":function(t,e,n){"use strict";n("b40e")},"5ef0":function(t,e,n){"use strict";n("09ef")},"7b55":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tag-box"}},[n("h3",[t._v(" "+t._s(t.text)+" ")])])},a=[],i={name:"Tags",props:{text:{type:String}}},o=i,r=(n("2455"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"6c8fda39",null);e["a"]=c.exports},"7e2d":function(t,e,n){},"856a":function(t,e,n){},"893a":function(t,e,n){"use strict";n("c2b8")},"8d90":function(t,e,n){"use strict";n("5279")},9492:function(t,e,n){"use strict";n("d299")},"95dc":function(t,e,n){},"99af":function(t,e,n){"use strict";var s=n("23e7"),a=n("d039"),i=n("e8b5"),o=n("861d"),r=n("7b0b"),c=n("07fa"),l=n("8418"),u=n("65f0"),m=n("1dde"),d=n("b622"),f=n("2d00"),p=d("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",g=f>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),_=m("concat"),C=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},b=!g||!_;s({target:"Array",proto:!0,forced:b},{concat:function(t){var e,n,s,a,i,o=r(this),m=u(o,0),d=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?o:arguments[e],C(i)){if(a=c(i),d+a>v)throw TypeError(h);for(n=0;n<a;n++,d++)n in i&&l(m,d,i[n])}else{if(d>=v)throw TypeError(h);l(m,d++,i)}return m.length=d,m}})},b3d5:function(t,e,n){},b40e:function(t,e,n){},c2b8:function(t,e,n){},c663:function(t,e,n){"use strict";n("b3d5")},d299:function(t,e,n){},dcc6:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tab-bar"}},[n("div",{staticClass:"wrap"},[n("ul",{staticClass:"list"},t._l(t.isShow?t.list:[],(function(e,s){return n("li",{key:s,staticClass:"items"},[n("router-link",{attrs:{to:e.path,"active-class":"active"}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)])])},a=[],i=(n("a9e3"),{name:"TabBar",props:{activeIndex:{type:[Number,String],default:0},isShow:{type:Boolean,default:!0}},data:function(){return{list:[{title:"推荐",path:"/home"},{title:"排行榜",path:"/toplist"},{title:"歌单",path:"/playlist"},{title:"主播电台",path:"/djradio"},{title:"歌手",path:"/artist"},{title:"新碟上架",path:"/album"}]}},methods:{tabItems:function(t){this.$router.push(t)}}}),o=i,r=(n("5aff"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"b7631f40",null);e["a"]=c.exports},e2a8:function(t,e,n){"use strict";n("95dc")},fb6a:function(t,e,n){"use strict";var s=n("23e7"),a=n("e8b5"),i=n("68ee"),o=n("861d"),r=n("23cb"),c=n("07fa"),l=n("fc6a"),u=n("8418"),m=n("b622"),d=n("1dde"),f=d("slice"),p=m("species"),v=[].slice,h=Math.max;s({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,s,m,d=l(this),f=c(d),g=r(t,f),_=r(void 0===e?f:e,f);if(a(d)&&(n=d.constructor,i(n)&&(n===Array||a(n.prototype))?n=void 0:o(n)&&(n=n[p],null===n&&(n=void 0)),n===Array||void 0===n))return v.call(d,g,_);for(s=new(void 0===n?Array:n)(h(_-g,0)),m=0;g<_;g++,m++)g in d&&u(s,m,d[g]);return s.length=m,s}})}}]);
//# sourceMappingURL=chunk-190fd9ea.7e6cc851.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c2ca734"],{"09ef":function(t,e,n){},"188a":function(t,e,n){},2455:function(t,e,n){"use strict";n("7e2d")},"2dbe":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap3 main"},[n("div",{staticClass:"main-left"},[t._t("left")],2),n("div",{staticClass:"main-right"},[t._t("right")],2)])},a=[],i={name:"LayOut"},o=i,r=(n("6c43"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"4317cbb7",null);e["a"]=c.exports},3008:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tag-box"}},[n("h3",[t._v(" "+t._s(t.text)+" "),t.showGengduo?n("a",{attrs:{href:"javascript:;"},on:{click:t.handleToSinger}},[t._v(t._s(t.title)+" >")]):t._e()])])},a=[],i={name:"TagsBox",props:{text:{type:String},showGengduo:{type:Boolean,defalult:!1},title:{type:String},path:{type:String},id:{}},methods:{handleToSinger:function(){console.log(this.id),0!==this.id?this.$router.push({path:this.path,query:{id:this.id}}):this.$router.push({path:this.path})}}},o=i,r=(n("89a1"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"39734295",null);e["a"]=c.exports},3246:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"song"}},[n("tab-bar"),n("lay-out",{scopedSlots:t._u([{key:"left",fn:function(){return[n("song-box",{attrs:{songs:t.songs,str:t.str,total:t.total}}),n("com-ment",{attrs:{hotComments:t.hotComments,comments:t.comments,total:t.total,commentType:0},on:{CurrentChange:t.CurrentChange}})]},proxy:!0},{key:"right",fn:function(){return[0!=t.relatedList?n("tags-box",{attrs:{text:"相似歌单"}}):t._e(),n("hot-list",{attrs:{relatedList:t.relatedList}}),n("tags-box",{attrs:{text:"相似音乐"}}),n("simi-songs",{attrs:{simiSongs:t.simiSongs}})]},proxy:!0}])})],1)},a=[],i=n("1da1"),o=(n("96cf"),n("ac1f"),n("1276"),n("5319"),n("dcc6")),r=n("2dbe"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!==t.songs?n("div",{attrs:{id:"song-box"}},[n("div",{staticClass:"song-cover"},[n("img",{attrs:{src:t.songs[0].al.picUrl,alt:""}}),n("span",{staticClass:"song-bg"})]),n("div",{staticClass:"song-right"},[n("h3",{staticClass:"song-name"},[n("i"),t._v(" "+t._s(t.songs[0].name))]),n("p",{staticClass:"singer"},[t._v(" 歌手: "),n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.toSingerDetail(t.songs[0].ar[0].id)}}},[t._v(t._s(t.songs[0].ar[0].name))])]),n("p",{staticClass:"album"},[t._v(" 所属专辑: "),n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.toAlbumsDetail(t.songs[0].al.id)}}},[t._v(t._s(t.songs[0].al.name))])]),n("span",{staticClass:"play",on:{click:function(e){return t.bofang(t.songs[0].id)}}},[n("i"),t._v(" 播放")]),null!==t.total?n("span",{staticClass:"comment",on:{click:t.ToComment}},[n("i"),t._v(" 评论("+t._s(t.total.total)+")")]):t._e(),n("div",{ref:"geci",staticClass:"geci",class:{active:t.show}},t._l(t.str,(function(e,s){return n("p",{key:s},[t._v(" "+t._s(e)+" ")])})),0),t.flag?n("a",{staticClass:"zhankai",attrs:{href:"javascript:;"},on:{click:t.isShow}},[t._v(t._s(t.msg))]):t._e()])]):t._e()},l=[],u=n("e09c"),m={name:"songBox",props:{songs:{type:Array,default:function(){return null}},str:{type:Array},total:{type:Object,default:function(){return null}}},data:function(){return{msg:"展开",show:!1,flag:!1}},mixins:[u["e"]],methods:{isShow:function(t){this.show=!this.show,this.show?(this.msg="展开",document.documentElement.scrollTop=0):this.msg="收起"},ToComment:function(){this.$bus.$emit("ToComment")},toSingerDetail:function(t){this.$router.push({path:"/singer",query:{id:t}})},toAlbumsDetail:function(t){this.$router.push({path:"/albumsDetail",query:{id:t}})}},watch:{str:function(t){t.length>15&&(this.show=!0,this.flag=!0)}}},h=m,f=(n("ad7b"),n("2877")),d=Object(f["a"])(h,c,l,!1,null,"0e7e2160",null),g=d.exports,p=n("5662"),v=n("3008"),_=n("76e7"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"simi-songs"}},t._l(t.simiSongs,(function(e){return n("div",{key:e.id,staticClass:"simi-box"},[n("div",{staticClass:"box"},[n("h2",{on:{click:function(n){return n.stopPropagation(),t.toSongsDetail(e.id)}}},[t._v(t._s(e.name))]),n("p",{on:{click:function(n){return n.stopPropagation(),t.toSingerDetail(e.artists[0].id)}}},[t._v(" "+t._s(e.artists[0].name)+" ")])]),n("div",{staticClass:"play"},[n("i",{on:{click:function(n){return t.bofang(e.id)}}})])])})),0)},C=[],y={name:"SimiSongs",props:{simiSongs:{type:Array,default:function(){return null}}},mixins:[u["e"]],methods:{toSongsDetail:function(t){this.$router.push({path:"/song",query:{id:t}})},toSingerDetail:function(t){this.$router.push({path:"/singer",query:{id:t}})}}},x=y,k=(n("45c2"),Object(f["a"])(x,b,C,!1,null,"6515f885",null)),S=k.exports,w=n("4ec3"),$={name:"SongDetail",components:{TabBar:o["a"],LayOut:r["a"],songBox:g,ComMent:p["a"],TagsBox:v["a"],HotList:_["a"],SimiSongs:S},data:function(){return{songs:null,str:[],hotComments:null,comments:null,total:null,relatedList:null,simiSongs:null}},created:function(){this.getSong(this.$route.query.id)},methods:{getSong:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a,i,o,r,c,l,u,m,h,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=/\[[0-9]*:[0-9]*\.[0-9]*\]/g,n.next=3,Object(w["G"])(t);case 3:return a=n.sent,i=a.data,e.songs=i.songs,n.next=8,Object(w["j"])(t);case 8:return o=n.sent,r=o.data,r.lrc?e.str=r.lrc.lyric.replace(s,"").split("\n"):e.str=["纯音乐，请欣赏"],n.next=13,Object(w["k"])(t);case 13:return c=n.sent,l=c.data,e.hotComments=l.hotComments,e.comments=l.comments,e.total=l,n.next=20,Object(w["z"])(t);case 20:return u=n.sent,m=u.data,e.relatedList=m.playlists,n.next=25,Object(w["y"])(t);case 25:h=n.sent,f=h.data,e.simiSongs=f.songs;case 28:case"end":return n.stop()}}),n)})))()},CurrentChange:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a,i,o,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==t){n.next=9;break}return n.next=3,Object(w["k"])(e.$route.query.id);case 3:s=n.sent,a=s.data,e.hotComments=a.hotComments,e.comments=a.comments,n.next=24;break;case 9:if(!(e.total.total>=5e3)){n.next=18;break}return n.next=12,Object(w["k"])(e.$route.query.id,20*(t-1),e.comments[e.comments.length-1].time);case 12:i=n.sent,o=i.data,e.hotComments=[],e.comments=o.comments,n.next=24;break;case 18:return n.next=20,Object(w["k"])(e.$route.query.id,20*(t-1));case 20:r=n.sent,c=r.data,e.hotComments=[],e.comments=c.comments;case 24:case"end":return n.stop()}}),n)})))()}}},j=$,O=Object(f["a"])(j,s,a,!1,null,"f831b730",null);e["default"]=O.exports},"404f":function(t,e,n){},"45c2":function(t,e,n){"use strict";n("188a")},5662:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"ment",attrs:{id:"comment"}},[n("h3",[t._v(" 评论 "),null!==t.total?n("span",[t._v("共"+t._s(t.total.total)+"条评论")]):t._e()]),n("div",{staticClass:"my-comment"},[n("div",{staticClass:"my-img"},[t.flag?n("img",{attrs:{src:t.userImg,alt:""}}):t._e()]),n("div",{staticClass:"ping"},[n("div",{staticClass:"ipt",on:{click:t.ShiFouDengLu}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"textarea",staticStyle:{resize:"none"},attrs:{required:"",placeholder:"评论",maxlength:"140"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}})]),n("a",{staticClass:"pinglun-btn",attrs:{href:"javascript:;"},on:{click:t.faSongMent}},[t._v("评论")])])]),t.hotComments&&0!==t.hotComments.length?n("div",[n("tags",{attrs:{text:"精彩评论"}}),n("user-comment",{attrs:{comments:t.hotComments}})],1):t._e(),t.comments&&0!==t.comments.length?n("div",[t.total?n("tags",{attrs:{text:"最新评论("+t.total.total+")"}}):t._e(),n("user-comment",{attrs:{comments:t.comments}})],1):t._e(),t.total&&0!==t.total.total?n("div",{staticClass:"fenye"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total.total,"page-size":20},on:{"current-change":t.handleCurrentChange}})],1):t._e()])},a=[],i=n("7b55"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.comments,(function(e){return n("div",{key:e.commentId,attrs:{id:"user-comment"}},[n("div",{staticClass:"user-img",on:{click:function(n){return t.toUserHome(e.user.userId)}}},[n("img",{attrs:{src:e.user.avatarUrl,alt:""}})]),n("div",{staticClass:"user-info"},[n("p",[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return t.toUserHome(e.user.userId)}}},[t._v(t._s(e.user.nickname)+":")]),n("span",[t._v(t._s(e.content))])]),n("div",{staticClass:"dz"},[n("p",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(e.time)))]),n("p",{staticClass:"zan"},[n("i",{staticClass:"iconfont icon-dianzan"}),0!==e.likedCount?n("span",[t._v("("+t._s(e.likedCount)+")")]):t._e()])])])])})),0)},r=[],c=(n("99af"),{name:"UserComment",props:["comments"],filters:{formatDate:function(t){var e=new Date(t),n=e.getFullYear(),s=e.getMonth()+1,a=e.getDate(),i=e.getHours();i=i<10?"0"+i:i;var o=e.getMinutes();return o=o<10?"0"+o:o,"".concat(n,"年").concat(s,"月").concat(a,"日 ").concat(i,":").concat(o)}},methods:{toUserHome:function(t){this.$router.push({path:"/user/home",query:{id:t}})}}}),l=c,u=(n("5ef0"),n("2877")),m=Object(u["a"])(l,o,r,!1,null,"b06ce5b2",null),h=m.exports,f=n("4ec3"),d=(n("4362"),{name:"ComMent",components:{Tags:i["a"],UserComment:h},props:["hotComments","comments","total","commentType"],data:function(){return{flag:!0,msg:"",isLogin:!1,comment:null}},created:function(){var t=localStorage.getItem("userInfo");this.isLogin=!!t},mounted:function(){var t=this,e=this;this.comment=document.getElementById("comment"),this.$bus.$on("ToComment",(function(){t.comment.scrollIntoView({behavior:"smooth"})})),this.$bus.$on("ShiFowDengLu",(function(t){e.isLogin=t}))},methods:{ShiFouDengLu:function(){this.isLogin||this.$bus.$emit("showLoginBox")},faSongMent:function(){var t=this;Object(f["O"])({t:1,type:this.commentType,id:this.$route.query.id,content:this.msg}).then((function(e){t.msg="",console.log(e)}))},handleCurrentChange:function(t){var e=this;this.$emit("CurrentChange",t),this.$nextTick((function(){e.comment.scrollIntoView({behavior:"smooth"})}))}},computed:{userImg:function(){if(this.isLogin){var t=JSON.parse(localStorage.getItem("headimg"));return t}return"https://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50"}}}),g=d,p=(n("893a"),Object(u["a"])(g,s,a,!1,null,"44ab9fe2",null));e["a"]=p.exports},"5aff":function(t,e,n){"use strict";n("b40e")},"5ef0":function(t,e,n){"use strict";n("09ef")},"6c43":function(t,e,n){"use strict";n("f11e")},"76e7":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"hot-list"}},t._l(t.relatedList,(function(e,s){return n("div",{key:s,staticClass:"hot"},[n("div",{staticClass:"user-img",on:{click:function(n){return t.handleToPlayList(e.id)}}},[n("img",{attrs:{src:e.coverImgUrl,alt:"",title:e.name}})]),n("div",{staticClass:"list-box"},[n("div",{staticClass:"list-name",on:{click:function(n){return t.handleToPlayList(e.id)}}},[n("p",{attrs:{title:e.name}},[t._v(t._s(e.name))])]),n("div",{staticClass:"list-author"},[n("span",[t._v("by")]),t._v("  "),n("a",{attrs:{href:"javascript:;",title:e.creator.nickname},on:{click:function(n){return t.handleToUserDetail(e.creator.userId)}}},[t._v(t._s(e.creator.nickname))])])])])})),0)},a=[],i={name:"HotList",props:["relatedList"],methods:{handleToPlayList:function(t){this.$router.push({path:"/playlistDetail",query:{id:t}})},handleToUserDetail:function(t){this.$router.push({path:"/user/home",query:{id:t}})}}},o=i,r=(n("a167"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"692f44e0",null);e["a"]=c.exports},"7b55":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tag-box"}},[n("h3",[t._v(" "+t._s(t.text)+" ")])])},a=[],i={name:"Tags",props:{text:{type:String}}},o=i,r=(n("2455"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"6c8fda39",null);e["a"]=c.exports},"7e2d":function(t,e,n){},"893a":function(t,e,n){"use strict";n("c2b8")},"89a1":function(t,e,n){"use strict";n("9dc4")},"99af":function(t,e,n){"use strict";var s=n("23e7"),a=n("d039"),i=n("e8b5"),o=n("861d"),r=n("7b0b"),c=n("07fa"),l=n("8418"),u=n("65f0"),m=n("1dde"),h=n("b622"),f=n("2d00"),d=h("isConcatSpreadable"),g=9007199254740991,p="Maximum allowed index exceeded",v=f>=51||!a((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),_=m("concat"),b=function(t){if(!o(t))return!1;var e=t[d];return void 0!==e?!!e:i(t)},C=!v||!_;s({target:"Array",proto:!0,forced:C},{concat:function(t){var e,n,s,a,i,o=r(this),m=u(o,0),h=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?o:arguments[e],b(i)){if(a=c(i),h+a>g)throw TypeError(p);for(n=0;n<a;n++,h++)n in i&&l(m,h,i[n])}else{if(h>=g)throw TypeError(p);l(m,h++,i)}return m.length=h,m}})},"9dc4":function(t,e,n){},a167:function(t,e,n){"use strict";n("a761")},a761:function(t,e,n){},ad7b:function(t,e,n){"use strict";n("404f")},b40e:function(t,e,n){},c2b8:function(t,e,n){},dcc6:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tab-bar"}},[n("div",{staticClass:"wrap"},[n("ul",{staticClass:"list"},t._l(t.isShow?t.list:[],(function(e,s){return n("li",{key:s,staticClass:"items"},[n("router-link",{attrs:{to:e.path,"active-class":"active"}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)])])},a=[],i=(n("a9e3"),{name:"TabBar",props:{activeIndex:{type:[Number,String],default:0},isShow:{type:Boolean,default:!0}},data:function(){return{list:[{title:"推荐",path:"/home"},{title:"排行榜",path:"/toplist"},{title:"歌单",path:"/playlist"},{title:"主播电台",path:"/djradio"},{title:"歌手",path:"/artist"},{title:"新碟上架",path:"/album"}]}},methods:{tabItems:function(t){this.$router.push(t)}}}),o=i,r=(n("5aff"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"b7631f40",null);e["a"]=c.exports},f11e:function(t,e,n){}}]);
//# sourceMappingURL=chunk-9c2ca734.53f3150a.js.map
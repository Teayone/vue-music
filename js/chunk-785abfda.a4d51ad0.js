(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-785abfda"],{"0973":function(t,e,n){"use strict";n("c11f")},"09ef":function(t,e,n){},"15a8":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"albums-detail"}},[n("tab-bar"),n("lay-out",{scopedSlots:t._u([{key:"left",fn:function(){return[n("cover-box",{attrs:{coverData:t.coverData,songList:t.songs,total:t.total}}),n("song-list",{attrs:{songList:t.songs,showAlbum:!1,songlistTitle:"包含歌曲列表"}}),n("com-ment",{attrs:{hotComments:t.hotComments,comments:t.comments,total:t.total,commentType:3},on:{CurrentChange:t.CurrentChange}})]},proxy:!0},{key:"right",fn:function(){return[n("tags-box",{attrs:{text:"Ta的其他热门专辑",showGengduo:!0,title:"全部",path:"/singer/album",id:t.singid}}),n("albums-list",{attrs:{hotAlbums:t.hotAlbums}})]},proxy:!0}])})],1)},a=[],i=n("1da1"),o=(n("96cf"),n("fb6a"),n("dcc6")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!==t.coverData?n("div",{attrs:{id:"cover-box"}},[n("div",{staticClass:"cover-img"},[n("img",{attrs:{src:t.coverData.blurPicUrl,alt:""}}),n("span")]),n("div",{staticClass:"right-info"},[n("h1",[n("i"),t._v(" "+t._s(t.coverData.name)+" ")]),n("div",{staticClass:"sing-box"},[n("p",[t._v(" 歌手："),n("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.coverData.artist.name))])]),n("p",[t._v("发行时间："+t._s(t._f("forMatDate")(t.coverData.publishTime)))]),n("p",[t._v("发行公司： "+t._s(t.coverData.company))])]),n("div",{staticClass:"tools"},[n("a",{staticClass:"play",attrs:{href:"javascript:;"},on:{click:t.toPlay}},[n("i",{staticClass:"iconfont icon-bofangqi-bofangshu"}),t._v(" "),n("span",[t._v("播放")])]),n("a",{staticClass:"pinglun",attrs:{href:"javascript:;"},on:{click:t.ToComment}},[n("i",{staticClass:"iconfont icon-pinglun"}),null!==t.total?n("span",[t._v("评论("+t._s(t.total.total)+")")]):t._e()])])]),n("div",{staticClass:"album-jie-shao",staticStyle:{"white-space":"pre-wrap"}},[n("h3",[t._v("专辑介绍：")]),n("p",{ref:"duanluo",class:{p:t.isShow}},[t._v(" "+t._s(t.coverData.description)+" ")]),t.isZhankai?n("h5",{on:{click:t.zhankai}},[t._v(t._s(t.msg))]):t._e()])]):t._e()},c=[],l=n("e09c"),u={name:"coverBox",props:{coverData:{type:Object,default:function(){return null}},songList:{type:Array,default:function(){return null}},total:{type:Object,default:function(){return null}}},data:function(){return{isShow:!1,isZhankai:!1,msg:"展开"}},created:function(){var t=this;window.setTimeout((function(){t.$refs.duanluo.offsetHeight>=360&&(t.isShow=!0,t.isZhankai=!0)}),500)},mixins:[l["f"]],methods:{ToComment:function(){this.$bus.$emit("ToComment")},zhankai:function(){this.isShow=!this.isShow,this.isShow?this.msg="展开":this.msg="收起"}}},m=u,h=(n("8f30"),n("2877")),f=Object(h["a"])(m,r,c,!1,null,"d7161d84",null),d=f.exports,p=n("2dbe"),v=n("1861"),g=n("5662"),b=n("3008"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!==t.hotAlbums?n("div",{attrs:{id:"albums-list"}},t._l(t.hotAlbums,(function(e){return n("div",{key:e.id,staticClass:"alist"},[n("div",{staticClass:"aimg",on:{click:function(n){return t.toAlbumsDetail(e.id)}}},[n("img",{attrs:{src:e.blurPicUrl,alt:"",title:e.name}})]),n("div",{staticClass:"aname"},[n("p",{staticClass:"name",on:{click:function(n){return t.toAlbumsDetail(e.id)}}},[n("a",{attrs:{href:"javascript:;",title:e.name}},[t._v(t._s(e.name))])]),n("p",{staticClass:"date"},[t._v(t._s(t._f("forMatDate")(e.publishTime)))])])])})),0):t._e()},C=[],y={name:"AlbumsList",props:{hotAlbums:{type:Array,default:function(){return null}}},methods:{toAlbumsDetail:function(t){this.$router.push({path:"/albumsDetail",query:{id:t}})}}},x=y,w=(n("0973"),Object(h["a"])(x,_,C,!1,null,"2c09bffe",null)),k=w.exports,S=n("4ec3"),$={name:"AlbumsDetail",components:{TabBar:o["a"],CoverBox:d,LayOut:p["a"],SongList:v["a"],ComMent:g["a"],TagsBox:b["a"],AlbumsList:k},data:function(){return{items:[{title:"推荐",path:"/home"},{title:"排行榜",path:"toplist"},{title:"歌单",path:"playlist"},{title:"主播电台",path:"djradio"},{title:"歌手",path:"artist"},{title:"新碟上架",path:"album"}],coverData:null,songs:null,hotComments:[],comments:[],total:null,singid:0,hotAlbums:null}},created:function(){this.getData(this.$route.query.id)},methods:{getData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a,i,o,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(S["d"])(t);case 2:return s=n.sent,a=s.data,e.coverData=a.album,e.songs=a.songs,e.singid=a.album.artist.id,n.next=9,Object(S["a"])(t);case 9:return i=n.sent,o=i.data,e.hotComments=o.hotComments,e.comments=o.comments,e.total=o,n.next=16,Object(S["A"])(a.album.artist.id);case 16:r=n.sent,c=r.data,e.hotAlbums=c.hotAlbums.slice(0,5);case 19:case"end":return n.stop()}}),n)})))()},CurrentChange:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a,i,o,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==t){n.next=10;break}return n.next=3,Object(S["a"])(e.$route.query.id);case 3:s=n.sent,a=s.data,e.hotComments=a.hotComments,e.comments=a.comments,e.total=a,n.next=25;break;case 10:if(!(e.total.total>=5e3)){n.next=19;break}return n.next=13,Object(S["a"])(e.$route.query.id,20*(t-1),e.comments[e.comments.length-1].time);case 13:i=n.sent,o=i.data,e.hotComments=[],e.comments=o.comments,n.next=25;break;case 19:return n.next=21,Object(S["a"])(e.$route.query.id,20*(t-1));case 21:r=n.sent,c=r.data,e.hotComments=[],e.comments=c.comments;case 25:case"end":return n.stop()}}),n)})))()}}},D=$,j=Object(h["a"])(D,s,a,!1,null,null,null);e["default"]=j.exports},1861:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"song-list"}},[t.showInfo?n("h3",[t._v(" "+t._s(t.songlistTitle)+" "),n("span",[t._v(t._s(t.songList?t.songList.length:0)+"首歌")]),null!==t.playCount?n("em",[t._v("播放： "),n("span",[t._v(t._s(t.playCount.playCount))]),t._v("次")]):t._e()]):t._e(),n("ul",{class:{bordernone:t.Border}},[t.showLiTitle?n("li",{staticClass:"info"},[n("div",{staticClass:"kong"}),n("div",{staticClass:"title"},[t._v("歌曲标题")]),n("div",{staticClass:"time"},[t._v("时长")]),n("div",{staticClass:"singer"},[t._v("歌手")]),t.showAlbum?n("div",{staticClass:"alubms"},[t._v("专辑")]):t._e()]):t._e(),t._l(t.songList,(function(e,s){return n("li",{key:e.id,staticClass:"list"},[n("div",{staticClass:"num-play"},[n("span",{staticClass:"num"},[t._v(t._s(s+1))]),n("i",{staticClass:"iconfont icon-bofangqi-bofangshu play",class:{active:e.id===t.activeSong,nocopyright:null!==e.noCopyrightRcmd},on:{click:function(n){return t.bofang(e.id,e.noCopyrightRcmd)}}})]),n("div",{staticClass:"tt"},[n("span",{class:{nocopyright:null!==e.noCopyrightRcmd},on:{click:function(n){return t.toSongsDetail(e.id)}}},[t._v(t._s(e.name))]),0!==e.mv?n("i",{staticClass:"icon-mv",class:{nocopyright:null!==e.noCopyrightRcmd},on:{click:function(n){return t.toMv(e.mv,e.noCopyrightRcmd)}}}):t._e()]),n("div",[n("span",{staticClass:"ti",class:{nocopyright:null!==e.noCopyrightRcmd}},[t._v(t._s(t._f("formatTimer")(e.dt/1e3)))]),n("div",{staticClass:"add-sc"},[n("i",{staticClass:"iconfont icon-tianjia add",attrs:{title:"添加到播放列表"},on:{click:function(n){return t.addList(e.id,e)}}}),n("i",{staticClass:"iconfont icon-shoucang sc",attrs:{title:"收藏"},on:{click:function(n){return t.openBox(e.id)}}})])]),t.showSingerName?n("div",{staticClass:"tt"},[n("span",{class:{nocopyright:null!==e.noCopyrightRcmd,nosinge:0===e.ar[0].id},on:{click:function(n){return t.toArtistDetail(e.ar[0].id)}}},[t._v(t._s(e.ar[0].name))])]):t._e(),t.showAlbum?n("div",{staticClass:"tt"},[n("span",{class:{nocopyright:null!==e.noCopyrightRcmd},on:{click:function(n){return t.toAlbumsDetail(e.al.id)}}},[t._v(t._s(e.al.name))])]):t._e()])}))],2),t.nocopyIsShow?n("div",{staticClass:"nocopy-tips"},[n("p",[t._v("由于版权保护，您所在的地区无法使用")])]):t._e()])},a=[],i=n("e09c"),o={name:"songList",mixins:[i["e"],i["g"],i["a"]],props:{songList:{type:Array,default:function(){return[]}},playCount:{type:Object,default:function(){return null}},showAlbum:{type:Boolean,default:function(){return!0}},songlistTitle:{type:String,default:function(){return"歌曲列表"}},showLiTitle:{type:Boolean,default:function(){return!0}},showSingerName:{type:Boolean,default:function(){return!0}},showInfo:{type:Boolean,default:function(){return!0}},Border:{type:Boolean,default:function(){return!1}}},data:function(){return{nocopyIsShow:!1,timer:null}},mounted:function(){},methods:{toAlbumsDetail:function(t){this.$router.push({path:"/albumsDetail",query:{id:t}})},toArtistDetail:function(t){0!==t&&this.$router.push({path:"/singer",query:{id:t}})},toSongsDetail:function(t){this.$router.push({path:"/song",query:{id:t}})},showNocopyTips:function(){var t=this;clearTimeout(this.timer),this.nocopyIsShow=!0,this.timer=setTimeout((function(){t.nocopyIsShow=!1}),2e3)},toMv:function(t,e){null!==e?this.showNocopyTips():this.$router.push({path:"/mv",query:{mvid:t}})},openBox:function(t){var e=localStorage.getItem("userInfo");e?this.$bus.$emit("openBox",t):this.$bus.$emit("showLoginBox")}},computed:{activeSong:function(){return null===this.song?0:this.song[this.$store.state.index].id}}},r=o,c=(n("7adf"),n("2877")),l=Object(c["a"])(r,s,a,!1,null,"5ade9b2a",null);e["a"]=l.exports},2455:function(t,e,n){"use strict";n("7e2d")},2567:function(t,e,n){},"2dbe":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap3 main"},[n("div",{staticClass:"main-left"},[t._t("left")],2),n("div",{staticClass:"main-right"},[t._t("right")],2)])},a=[],i={name:"LayOut"},o=i,r=(n("6c43"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"4317cbb7",null);e["a"]=c.exports},3008:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tag-box"}},[n("h3",[t._v(" "+t._s(t.text)+" "),t.showGengduo?n("a",{attrs:{href:"javascript:;"},on:{click:t.handleToSinger}},[t._v(t._s(t.title)+" >")]):t._e()])])},a=[],i={name:"TagsBox",props:{text:{type:String},showGengduo:{type:Boolean,defalult:!1},title:{type:String},path:{type:String},id:{}},methods:{handleToSinger:function(){console.log(this.id),0!==this.id?this.$router.push({path:this.path,query:{id:this.id}}):this.$router.push({path:this.path})}}},o=i,r=(n("89a1"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"39734295",null);e["a"]=c.exports},5662:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"ment",attrs:{id:"comment"}},[n("h3",[t._v(" 评论 "),null!==t.total?n("span",[t._v("共"+t._s(t.total.total)+"条评论")]):t._e()]),n("div",{staticClass:"my-comment"},[n("div",{staticClass:"my-img"},[t.flag?n("img",{attrs:{src:t.userImg,alt:""}}):t._e()]),n("div",{staticClass:"ping"},[n("div",{staticClass:"ipt",on:{click:t.ShiFouDengLu}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"textarea",staticStyle:{resize:"none"},attrs:{required:"",placeholder:"评论",maxlength:"140"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}})]),n("a",{staticClass:"pinglun-btn",attrs:{href:"javascript:;"},on:{click:t.faSongMent}},[t._v("评论")])])]),t.hotComments&&0!==t.hotComments.length?n("div",[n("tags",{attrs:{text:"精彩评论"}}),n("user-comment",{attrs:{comments:t.hotComments}})],1):t._e(),t.comments&&0!==t.comments.length?n("div",[t.total?n("tags",{attrs:{text:"最新评论("+t.total.total+")"}}):t._e(),n("user-comment",{attrs:{comments:t.comments}})],1):t._e(),t.total&&0!==t.total.total?n("div",{staticClass:"fenye"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total.total,"page-size":20},on:{"current-change":t.handleCurrentChange}})],1):t._e()])},a=[],i=n("7b55"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.comments,(function(e){return n("div",{key:e.commentId,attrs:{id:"user-comment"}},[n("div",{staticClass:"user-img",on:{click:function(n){return t.toUserHome(e.user.userId)}}},[n("img",{attrs:{src:e.user.avatarUrl,alt:""}})]),n("div",{staticClass:"user-info"},[n("p",[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return t.toUserHome(e.user.userId)}}},[t._v(t._s(e.user.nickname)+":")]),n("span",[t._v(t._s(e.content))])]),n("div",{staticClass:"dz"},[n("p",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(e.time)))]),n("p",{staticClass:"zan"},[n("i",{staticClass:"iconfont icon-dianzan"}),0!==e.likedCount?n("span",[t._v("("+t._s(e.likedCount)+")")]):t._e()])])])])})),0)},r=[],c=(n("99af"),{name:"UserComment",props:["comments"],filters:{formatDate:function(t){var e=new Date(t),n=e.getFullYear(),s=e.getMonth()+1,a=e.getDate(),i=e.getHours();i=i<10?"0"+i:i;var o=e.getMinutes();return o=o<10?"0"+o:o,"".concat(n,"年").concat(s,"月").concat(a,"日 ").concat(i,":").concat(o)}},methods:{toUserHome:function(t){this.$router.push({path:"/user/home",query:{id:t}})}}}),l=c,u=(n("5ef0"),n("2877")),m=Object(u["a"])(l,o,r,!1,null,"b06ce5b2",null),h=m.exports,f=n("4ec3"),d=(n("4362"),{name:"ComMent",components:{Tags:i["a"],UserComment:h},props:["hotComments","comments","total","commentType"],data:function(){return{flag:!0,msg:"",isLogin:!1,comment:null}},created:function(){var t=localStorage.getItem("userInfo");this.isLogin=!!t},mounted:function(){var t=this,e=this;this.comment=document.getElementById("comment"),this.$bus.$on("ToComment",(function(){t.comment.scrollIntoView({behavior:"smooth"})})),this.$bus.$on("ShiFowDengLu",(function(t){e.isLogin=t}))},methods:{ShiFouDengLu:function(){this.isLogin||this.$bus.$emit("showLoginBox")},faSongMent:function(){var t=this;Object(f["O"])({t:1,type:this.commentType,id:this.$route.query.id,content:this.msg}).then((function(e){t.msg="",console.log(e)}))},handleCurrentChange:function(t){var e=this;this.$emit("CurrentChange",t),this.$nextTick((function(){e.comment.scrollIntoView({behavior:"smooth"})}))}},computed:{userImg:function(){if(this.isLogin){var t=JSON.parse(localStorage.getItem("headimg"));return t}return"https://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50"}}}),p=d,v=(n("893a"),Object(u["a"])(p,s,a,!1,null,"44ab9fe2",null));e["a"]=v.exports},"5aff":function(t,e,n){"use strict";n("b40e")},"5ef0":function(t,e,n){"use strict";n("09ef")},"6c43":function(t,e,n){"use strict";n("f11e")},"7adf":function(t,e,n){"use strict";n("2567")},"7b55":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tag-box"}},[n("h3",[t._v(" "+t._s(t.text)+" ")])])},a=[],i={name:"Tags",props:{text:{type:String}}},o=i,r=(n("2455"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"6c8fda39",null);e["a"]=c.exports},"7e2d":function(t,e,n){},"893a":function(t,e,n){"use strict";n("c2b8")},"89a1":function(t,e,n){"use strict";n("9dc4")},"8f30":function(t,e,n){"use strict";n("a7ea")},"99af":function(t,e,n){"use strict";var s=n("23e7"),a=n("d039"),i=n("e8b5"),o=n("861d"),r=n("7b0b"),c=n("07fa"),l=n("8418"),u=n("65f0"),m=n("1dde"),h=n("b622"),f=n("2d00"),d=h("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!a((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),b=m("concat"),_=function(t){if(!o(t))return!1;var e=t[d];return void 0!==e?!!e:i(t)},C=!g||!b;s({target:"Array",proto:!0,forced:C},{concat:function(t){var e,n,s,a,i,o=r(this),m=u(o,0),h=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?o:arguments[e],_(i)){if(a=c(i),h+a>p)throw TypeError(v);for(n=0;n<a;n++,h++)n in i&&l(m,h,i[n])}else{if(h>=p)throw TypeError(v);l(m,h++,i)}return m.length=h,m}})},"9dc4":function(t,e,n){},a7ea:function(t,e,n){},b40e:function(t,e,n){},c11f:function(t,e,n){},c2b8:function(t,e,n){},dcc6:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tab-bar"}},[n("div",{staticClass:"wrap"},[n("ul",{staticClass:"list"},t._l(t.isShow?t.list:[],(function(e,s){return n("li",{key:s,staticClass:"items"},[n("router-link",{attrs:{to:e.path,"active-class":"active"}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)])])},a=[],i=(n("a9e3"),{name:"TabBar",props:{activeIndex:{type:[Number,String],default:0},isShow:{type:Boolean,default:!0}},data:function(){return{list:[{title:"推荐",path:"/home"},{title:"排行榜",path:"/toplist"},{title:"歌单",path:"/playlist"},{title:"主播电台",path:"/djradio"},{title:"歌手",path:"/artist"},{title:"新碟上架",path:"/album"}]}},methods:{tabItems:function(t){this.$router.push(t)}}}),o=i,r=(n("5aff"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"b7631f40",null);e["a"]=c.exports},f11e:function(t,e,n){},fb6a:function(t,e,n){"use strict";var s=n("23e7"),a=n("e8b5"),i=n("68ee"),o=n("861d"),r=n("23cb"),c=n("07fa"),l=n("fc6a"),u=n("8418"),m=n("b622"),h=n("1dde"),f=h("slice"),d=m("species"),p=[].slice,v=Math.max;s({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,s,m,h=l(this),f=c(h),g=r(t,f),b=r(void 0===e?f:e,f);if(a(h)&&(n=h.constructor,i(n)&&(n===Array||a(n.prototype))?n=void 0:o(n)&&(n=n[d],null===n&&(n=void 0)),n===Array||void 0===n))return p.call(h,g,b);for(s=new(void 0===n?Array:n)(v(b-g,0)),m=0;g<b;g++,m++)g in h&&u(s,m,h[g]);return s.length=m,s}})}}]);
//# sourceMappingURL=chunk-785abfda.a4d51ad0.js.map